from os.path import join, splitext
from sklearn.ensemble import RandomForestClassifier

global estimator, estimatorFilename

assert isinstance(estimator, RandomForestClassifier)

filename = '{}.info.txt'.format(splitext(estimatorFilename)[0])
with open(filename, mode='w') as f:
    f.write('feature_importances_\n')
    f.write(', '.join(estimator.feature_importances_.astype(str)))
    f.write('\n')

    if estimator.oob_score:
        f.write('\noob_score_\n')
        f.write(str(estimator.oob_score_.astype(str)))
        f.write('\n\noob_decision_function_\n')
        for l in estimator.oob_decision_function_.T:
            f.write(', '.join(l.astype(str)))
            f.write('\n')

    f.write('\nFor details see: https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html\n')
