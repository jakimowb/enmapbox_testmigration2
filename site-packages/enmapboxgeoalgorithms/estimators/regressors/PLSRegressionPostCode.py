from os.path import join, splitext
from sklearn.cross_decomposition import PLSRegression

global estimator, estimatorFilename

assert isinstance(estimator, PLSRegression)

filename = '{}.info.txt'.format(splitext(estimatorFilename)[0])

if 0: # wait for Hannes reply
    with open(filename, mode='w') as f:
        f.write('feature_importances_\n')
        f.write(', '.join(estimator.feature_importances_.astype(str)))
        f.write('\n')

        if estimator.oob_score:
            f.write('\noob_score_\n')
            f.write(str(estimator.oob_score_.astype(str)))
            f.write('\n\noob_prediction_\n')
            for l in estimator.oob_prediction_.T:
                f.write(', '.join(l.astype(str)))
                f.write('\n')

        f.write('\nFor details see: https://scikit-learn.org/stable/modules/generated/sklearn.cross_decomposition.PLSRegression.html\n')
